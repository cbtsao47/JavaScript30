<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="staial.css">
</head>

<body>
    <div class="piano-keys">
        <div class="piano-keys__keys black">
            <div class="piano-keys__keys--black key blank" >
                <h2></h2>
            </div>
            <div class="piano-keys__keys--black key" data-note="79">
                <h2></h2>
            </div>
            <div class="piano-keys__keys--black key" data-note="73">
                <h2>I</h2>
            </div>
            <div class="piano-keys__keys--black key blank" >
                <h2></h2>
            </div>
            <div class="piano-keys__keys--black key" data-note="82">
                <h2>R</h2>
            </div>
            <div class="piano-keys__keys--black key" data-note="69">
                <h2>E</h2>
            </div>
            <div class="piano-keys__keys--black key blank">
                <h2></h2>
            </div>
            <div class="piano-keys__keys--black key" data-note="87">
                <h2>W</h2>
            </div>
        </div>
        <div class="piano-keys__keys white">
            <div class="piano-keys__keys--white key" data-note="65">
                <h2>A</h2>
            </div>
            <div class="piano-keys__keys--white key" data-note="83">
                <h2>S</h2>
            </div>
            <div class="piano-keys__keys--white key" data-note="68">
                <h2>D</h2>
            </div>
            <div class="piano-keys__keys--white key" data-note="70">
                <h2>F</h2>
            </div>
            <div class="piano-keys__keys--white key" data-note="74">
                <h2>J</h2>
            </div>
            <div class="piano-keys__keys--white key" data-note="75">
                <h2>K</h2>
            </div>
            <div class="piano-keys__keys--white key" data-note="76">
                <h2>L</h2>
            </div>
            <div class="piano-keys__keys--white keys" data-note="76">
                <h2></h2>
            </div>
        </div>
    </div>
    <audio data-note="65" src="./sounds/piano-a.wav"></audio>
    <audio data-note="83" src="sounds/piano-b.wav"></audio>
    <audio data-note="68" src="sounds/piano-c.wav"></audio>
    <audio data-note="70" src="sounds/piano-d.wav"></audio>
    <audio data-note="87" src="sounds/piano-bb.wav"></audio>
    <audio data-note="74" src="sounds/piano-e.wav"></audio>
    <audio data-note="69" src="sounds/piano-cS.wav"></audio>
    <audio data-note="75" src="sounds/piano-fS.wav"></audio>
    <audio data-note="76" src="sounds/piano-gS.wav"></audio>
    <audio data-note="82" src="sounds/piano-eb.wav"></audio>
    <audio data-note="73" src="sounds/piano-f.wav"></audio>
    <audio data-note="79" src="sounds/piano-g.wav"></audio>
    <script>
        window.addEventListener('keydown', (e) => {
            const audio = document.querySelector(`audio[data-note ='${e.keyCode}']`);
            const key = document.querySelector(`.key[data-note ='${e.keyCode}']`);
            console.log(e.keyCode);
            if (!audio) { return };
            key.classList.add('playing');
            audio.volume = 0.1;
            audio.play();
            audio.currentTime = 0;
        })
        const keys = document.querySelectorAll('.key');
        keys.forEach( key => 
            key.addEventListener('transitionend', e =>{
                if(e.propertyName !== 'transform'){return};
                e.target.classList.remove('playing');
            }));

    </script>
</body>

</html>